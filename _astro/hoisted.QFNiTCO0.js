import"./hoisted.CHl1yjyf.js";document.addEventListener("DOMContentLoaded",async()=>{document.getElementById("status-message");const n=document.getElementById("loading"),o=document.getElementById("result"),e=document.getElementById("result-message");if(!n||!o||!e){console.error("Required DOM elements not found");return}try{const t=new URLSearchParams(window.location.search).get("token");if(!t)throw new Error("No confirmation token found.");const r=await fetch("https://cloud.appwrite.io/v1/functions/67cdf356847084af9bad/executions",{method:"POST",headers:{"Content-Type":"application/json","X-Appwrite-Project":"eu"},body:JSON.stringify({token:t})}),s=await r.json();if(n.classList.add("hidden"),o.classList.remove("hidden"),r.ok&&s.statusCode<400)e.textContent=s.response?.message||"Your subscription has been confirmed!",e.classList.add("text-green-400");else throw new Error(s.response?.error||"Failed to confirm subscription.")}catch(t){n.classList.add("hidden"),o.classList.remove("hidden"),e.textContent=`Error: ${t instanceof Error?t.message:"Unknown error"}`,e.classList.add("text-red-400")}});
