import"./hoisted.CHl1yjyf.js";document.addEventListener("DOMContentLoaded",()=>{document.getElementById("benefits-container");const h=document.querySelectorAll(".country-benefits"),l=document.getElementById("default-benefits"),s=document.getElementById("country-search"),i=document.getElementById("country-list"),u=[{code:"germany",name:"Germany",flag:"DE"},{code:"france",name:"France",flag:"FR"},{code:"poland",name:"Poland",flag:"PL"},{code:"spain",name:"Spain",flag:"ES"},{code:"italy",name:"Italy",flag:"IT"},{code:"sweden",name:"Sweden",flag:"SE"},{code:"ukraine",name:"Ukraine",flag:"UA"},{code:"netherlands",name:"Netherlands",flag:"NL"},{code:"belgium",name:"Belgium",flag:"BE"},{code:"czechia",name:"Czechia",flag:"CZ"},{code:"slovakia",name:"Slovakia",flag:"SK"},{code:"hungary",name:"Hungary",flag:"HU"},{code:"romania",name:"Romania",flag:"RO"},{code:"visegrad",name:"Visegrad Group",flag:"EU",region:!0},{code:"baltics",name:"Baltic States",flag:"EU",region:!0},{code:"balkans",name:"Balkan Countries",flag:"EU",region:!0},{code:"southern",name:"Southern Europe",flag:"EU",region:!0},{code:"northern",name:"Northern Europe",flag:"EU",region:!0},{code:"central",name:"Central Europe",flag:"EU",region:!0},{code:"eastern",name:"Eastern Europe",flag:"EU",region:!0}],g={de:"germany",fr:"france",pl:"poland",es:"spain",it:"italy",sv:"sweden",uk:"ukraine",nl:"netherlands",cs:"czechia",sk:"slovakia",hu:"hungary",ro:"romania"},y=()=>{const r=(navigator.language||navigator.userLanguage).split("-")[0].toLowerCase();if(r in g){const e=g[r];return u.find(a=>a.code===e)||null}return null},d=(t,r)=>{h.forEach(n=>{n.classList.add("hidden")});const e=document.getElementById(`${t}-benefits`);if(e)e.classList.remove("hidden");else if(l){l.classList.remove("hidden");let n=r||t.charAt(0).toUpperCase()+t.slice(1);const o=l.querySelector("h2");o&&(o.textContent=`Benefits for ${n}`)}document.querySelectorAll("#country-list li").forEach(n=>{n.classList.remove("active"),n.getAttribute("data-country-code")===t&&(n.classList.add("active"),n.scrollIntoView({behavior:"smooth",block:"nearest"}))})},E=(t,r=!1)=>{const e=document.createElement("li"),a=[];r&&a.push("suggested"),t.region&&a.push("region"),e.className=a.join(" "),e.setAttribute("data-country-code",t.code),e.setAttribute("data-country-name",t.name);const o=(c=>t.region?"EU":c.toUpperCase())(t.flag);return e.innerHTML=`
        <table class="country-table">
          <tr>
            <td class="flag-cell">
              <img 
                src="https://flagcdn.com/w20/${o.toLowerCase()}.png" 
                srcset="https://flagcdn.com/w40/${o.toLowerCase()}.png 2x" 
                alt="${t.name} flag"
                class="country-flag"
              >
            </td>
            <td class="spacer-cell"></td>
            <td class="name-cell">
              ${t.name}
            </td>
          </tr>
        </table>
      `,e.addEventListener("click",()=>{d(t.code,t.name)}),e},L=()=>{if(!i)return;const t=y();[...u].sort((e,a)=>{if(t){if(e.code===t.code)return-1;if(a.code===t.code)return 1}return e.region&&!a.region||!e.region&&a.region?e.region?1:-1:e.name.localeCompare(a.name)}).forEach(e=>{const a=!!(t&&e.code===t.code),n=E(e,a);a&&(n.classList.add("active"),d(e.code,e.name)),i.appendChild(n)})},m=(t="")=>{if(!i)return;const r=i.querySelectorAll("li"),e=t.trim().toLowerCase();if(e===""){r.forEach(o=>{o.classList.remove("matches-filter")});return}let a=0,n=null;if(r.forEach(o=>{(o.getAttribute("data-country-name")||"").toLowerCase().includes(e)?(o.classList.add("matches-filter"),a++,n=o):o.classList.remove("matches-filter")}),a===1&&n){const o=n;if(!o.classList.contains("active")){const c=o.getAttribute("data-country-code")||"",f=o.getAttribute("data-country-name")||"";c&&setTimeout(()=>{s&&s.value.trim().toLowerCase()===e&&d(c,f)},300)}}};s&&(s.addEventListener("input",t=>{const r=t.target;m(r.value)}),s.addEventListener("search",()=>{m(s.value)})),L()});
