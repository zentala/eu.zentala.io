---
import { getEntry } from 'astro:content';
import Layout from '../../../layouts/Layout.astro';
import DisplayTitle from '../../../components/DisplayTitle.astro';

// Get the entry directly from content collection
const entry = await getEntry('docs', 'articles/learning-from-china');
const { Content } = await entry.render();
---

<Layout title={entry.data.title}>
  <main class="container mx-auto max-w-6xl px-4 py-8">
    <div class="mb-8">
      <a href="/docs/articles" class="text-blue-400 hover:text-blue-300 flex items-center gap-2 mb-4">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
        </svg>
        Back to Articles
      </a>
      <DisplayTitle title={entry.data.title} />
      <p class="text-xl text-gray-300 mb-8">{entry.data.description}</p>
    </div>
    
    <div class="relative">
      <div class="absolute inset-0 bg-gradient-to-b from-blue-900/20 to-transparent opacity-50 blur-xl"></div>
      <article class="relative prose prose-lg max-w-none dark:prose-invert prose-headings:text-white prose-headings:font-bold prose-p:text-gray-300 prose-a:text-blue-400 prose-a:no-underline hover:prose-a:underline prose-strong:text-white prose-code:text-blue-300 prose-pre:bg-gray-800 prose-pre:text-gray-300 prose-li:text-gray-300">
        <Content />
      </article>
    </div>
    
    <div class="mt-16 pt-8 border-t border-gray-800">
      <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
        <p class="text-gray-400 text-sm">
          Tags: {entry.data.tags || "None"}
        </p>
        
        <div class="flex items-center gap-4">
          <a href="/docs/articles" class="text-blue-400 hover:text-blue-300 flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
            All Articles
          </a>
        </div>
      </div>
    </div>
  </main>
</Layout>